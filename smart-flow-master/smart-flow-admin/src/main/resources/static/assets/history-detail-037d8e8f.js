import{_,e as g,i as p,o as y,s as h,n as e,t as c,v as m}from"./index-6b451810.js";import{f as v,b as u,c as f}from"./api-c953154a.js";import{e as w}from"./editor.api-c30b8609.js";import"./toggleHighContrast-59927427.js";import"./monaco.contribution-7418d8b9.js";import{_ as b}from"./blank-48692729.js";import"./preload-helper-41c905a7.js";var r;const x={mounted(){this.init()},methods:{init(){r=w.create(this.$refs.editor,{theme:"vs-dark",value:`<?xml version="1.0" encoding="UTF-8"?>
<engines xmlns="http://org.smartboot/smart-flow"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://org.smartboot/smart-flow
                             http://org.smartboot/smart-flow-1.0.1.xsd">





</engines>`,language:"xml",folding:!0,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,tabCompletion:"on",scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:5,readOnly:!0})}},setup(){let a=-1,n=window.location.href;if(n.split("/").length>1){let t=n.split("/");t.length>0&&!isNaN(parseFloat(t[t.length-1]))&&(a=t[t.length-1])}const s=g({version:1,engineName:""});return p(()=>{a>-1&&(async()=>{const{data:i}=await v(a);if(s.value.engineName=i.engineName,s.value.version=i.version,r.setValue(i.content),!(await u(i.content)).success)return;const o=await f(i.content);let l="data:image/png;base64,"+window.btoa(String.fromCharCode(...new Uint8Array(o.data)));document.getElementById("img_view").src=l})()}),{engineInfo:s,validate:function(){const t=r.getValue();(async()=>{if(!(await u(t)).success)return;const o=await f(t);let l="data:image/png;base64,"+window.btoa(String.fromCharCode(...new Uint8Array(o.data)));document.getElementById("img_view").src=l})()}}}},N={class:"box"},C={class:"engine_edit_form"},I={class:"layui-form-item"},L=e("label",{class:"layui-form-label"},"引擎名称",-1),k={class:"layui-input-block",style:{width:"30%"}},B={class:"layui-form-item"},S=e("label",{class:"layui-form-label"},"引擎版本",-1),U={class:"layui-input-block",style:{width:"30%"}},V={class:"layui-form-item layui-form-text"},D=e("label",{class:"layui-form-label"},"编排内容",-1),E={class:"layui-input-block layout-edit-line"},M={class:"layout-editor",id:"editor",ref:"editor"},F=e("div",{class:"layout-preview engine_img_view"},[e("img",{class:"layout-preview-image",src:b,id:"img_view"})],-1);function A(a,n,s,t,i,d){return y(),h("div",N,[e("div",C,[e("div",I,[L,e("div",k,[c(e("input",{type:"text",name:"title","onUpdate:modelValue":n[0]||(n[0]=o=>t.engineInfo.engineName=o),autocomplete:"off",class:"layui-input",disabled:""},null,512),[[m,t.engineInfo.engineName]])])]),e("div",B,[S,e("div",U,[c(e("input",{type:"text",name:"title","onUpdate:modelValue":n[1]||(n[1]=o=>t.engineInfo.version=o),autocomplete:"off",class:"layui-input",disabled:""},null,512),[[m,t.engineInfo.version]])])]),e("div",V,[D,e("div",E,[e("div",M,null,512),F])])])])}const z=_(x,[["render",A]]);export{z as default};
